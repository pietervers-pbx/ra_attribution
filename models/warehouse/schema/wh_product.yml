version: 2

models:


  - name: wh_attribution_fact
    columns:
      - name: blended_user_id
        description: The custom user ID for each user, identity-stitched using the user's logged-in and unauthenticated sessions.
        meta:
          dimension:
            label: "User ID"
            type: number
            hidden: no
      - name: session_start_ts
        meta:
          dimension:
            label: "Session Start"
            type: timestamp
            hidden: no
      - name: session_end_ts
        meta:
          dimension:
            label: "Session End"
            type: timestamp
            hidden: no
      - name: web_session_pk
        meta:
          dimension:
            label: "Session ID"
            type: timestamp
            hidden: no
        description: Session ID either created by Snowplow or generated by this package for custom order/account opening sessions
      - name: session_seq
        meta:
          dimension:
            label: "Session Sequence Number"
            type: timestamp
            hidden: no
        description: Sequence number of the user's sessions, starting at 1
      - name: conversion_session
        meta:
          dimension:
            label: "Is Conversion Session"
            type: boolean
            hidden: no
        description: Boolean value to indicate whether the session contained one or more conversion events
      - name: utm_source
        meta:
          dimension:
            label: "UTM Source"
            type: string
            hidden: no
      - name: utm_content
        meta:
          dimension:
            label: "UTM Content"
            type: string
            hidden: no
      - name: utm_medium
        meta:
          dimension:
            label: "UTM Medium"
            type: string
            hidden: no
      - name: utm_campaign
        meta:
          dimension:
            label: "UTM Campaign"
            type: string
            hidden: no
      - name: platform
        meta:
          dimension:
            label: "Ad Platform"
            type: string
            hidden: no
      - name: campaign_id
        meta:
          dimension:
            label: "Campaign ID"
            type: string
            hidden: no
      - name: ad_group_id
        meta:
          dimension:
            label: "Ad Group ID"
            type: string
            hidden: no
      - name: referrer_host
        meta:
          dimension:
            label: "Referrer Host"
            type: string
            hidden: no
      - name: referrer_domain
        meta:
          dimension:
            label: "Referrer Domain"
            type: string
            hidden: no
      - name: channel
        meta:
          dimension:
            label: "Marketing Channel"
            type: string
            hidden: no
        description: Marketing channel responsible for the user's session, based on custom Marketing Channel logic
      - name: currency_code
        meta:
          dimension:
            label: "Local Currency Code"
            type: string
            hidden: no
      - name: converted_ts
        description: Timestamp for the last conversion event in this session
        meta:
          dimension:
            label: "Conversion Timestamp"
            type: timestamp
            hidden: no
      - name: user_registration_conversion_cycle
        description: Sequence number of the user's account opening conversion cycle. Should contain either a 0 (the user has never opened an account within the timeframe of this dbt model's data extract) or 1 (the session is one that leads-up to or includes the account opening event)
        meta:
          dimension:
            label: "User Registration Conversion Cycle"
            type: number
            hidden: no
      - name: user_first_order_conversion_cycle
        description: Sequence number of the user's first order conversion cycle. Should contain either a 0 (the user has never placed an order within the timeframe of this dbt model's data extract) or 1 (the session is one that leads-up to or includes the first order conversion event)
        meta:
          dimension:
            label: "User First Order Conversion Cycle"
            type: number
            hidden: no
      - name: user_repeat_order_conversion_cycle
        description: Sequence number of the user's repeat order conversion cycle. Should contain either a 0 (the user has never placed an repeat order within the timeframe of this dbt model's data extract) or any number greater than 0 (the session is one that leads-up to or includes the repeat order conversion event for that repeat order conversion cycle)
        meta:
          dimension:
            label: "User Repeat Order Conversion Cycle"
            type: number
            hidden: no
      - name: count_repeat_order_conversions
        description: Total count of repeat order conversion events within the session.
        meta:
          dimension:
            label: "Total Repeat Orders"
            type: number
            hidden: yes
          metrics:
            total_unit_amount:
              type: sum
              label: "Total Repeat Orders"
      - name: count_registration_conversions
        description: Total count of account opening conversion events within the session.
        meta:
          dimension:
            label: "Total User Registrations"
            type: number
            hidden: yes
          metrics:
            total_user_registrations:
              type: sum
              label: "Total User Registrations"
      - name: user_registration_first_click_attrib_conversions
        description: Number of account opening conversions using the First Click Decay attribution model.
        meta:
          dimension:
            label: "Total First Click User Registrations"
            type: number
            hidden: yes
          metrics:
            total_first_click_user_registrations:
              type: sum
              label: "Total User Registrations"
      - name: user_registration_first_non_direct_click_attrib_conversions
        description: Number of account opening conversions using the First Non-Direct Click attribution model.
        meta:
          dimension:
            label: "Total First Non-Direct Click User Registrations"
            type: number
            hidden: no
      - name: user_registration_last_click_attrib_conversions
        description: Number of account opening conversions using the Last Click attribution model.
        meta:
          dimension:
            label: "Total Last Click User Registrations"
            type: number
            hidden: no
      - name: user_registration_last_non_direct_click_attrib_conversions
        description: Number of account opening conversions using the Last Non-Direct Click attribution model.
        meta:
          dimension:
            label: "Total Last Non-Direct Click User Registrations"
            type: number
            hidden: no
      - name: user_registration_last_paid_click_attrib_conversions
        description: Number of account opening conversions using the Last Paid Click attribution model.
        meta:
          dimension:
            label: "Total Last Paid Click User Registrations"
            type: number
            hidden: no
      - name: user_registration_even_click_attrib_conversions
        description: Number of account opening conversions using the Even Click attribution model.
        meta:
          dimension:
            label: "Total Even Click User Registrations"
            type: number
            hidden: no
      - name: user_registration_time_decay_attrib_conversions
        description: Number of account opening conversions using the Time Decay attribution model.
        meta:
          dimension:
            label: "Total Time Decay User Registrations"
            type: number
            hidden: no
      - name: first_order_first_click_attrib_conversions
        description: Number of first order conversions using the First Click attribution model.
        meta:
          dimension:
            label: "Total First Click First Orders"
            type: number
            hidden: no
      - name: first_order_first_non_direct_click_attrib_conversions
        description: Number of first order conversions using the First Non-Direct Click attribution model.
        meta:
          dimension:
            label: "Total First Non-Direct Click First Orders"
            type: number
            hidden: no
      - name: first_order_first_paid_click_attrib_conversions
        description: Number of first order conversions using the First Paid Click attribution model.
        meta:
          dimension:
            label: "Total First Paid Click First Orders"
            type: number
            hidden: no
      - name: first_order_last_click_attrib_conversions
        description: Number of first order conversions using the Last Click attribution model.
        meta:
          dimension:
            label: "Total Last Click Orders"
            type: number
            hidden: no
      - name: first_order_last_non_direct_click_attrib_conversions
        description: Number of first order conversions using the Last Non-Direct Click attribution model.
        meta:
          dimension:
            label: "Total Last Non-Direct Click First Orders"
            type: number
            hidden: no
      - name: first_order_even_click_attrib_conversions
        description: Number of first order conversions using the Even Click attribution model.
        meta:
          dimension:
            label: "Total Even Click First Orders"
            type: number
            hidden: no
      - name: first_order_first_click_attrib_revenue
        meta:
          dimension:
            label: "Total Even Click First Order Revenue"
            type: number
            hidden: no
      - name: first_order_first_non_direct_click_attrib_revenue
        meta:
          dimension:
            label: "Total First Non-Direct Click First Order Revenue"
            type: number
            hidden: no
      - name: first_order_first_paid_click_attrib_revenue
        meta:
          dimension:
            label: "Total First Paid Click First Order Revenue"
            type: number
            hidden: no
      - name: first_order_last_click_attrib_revenue
        meta:
          dimension:
            label: "Total Last Click First Order Revenue"
            type: number
            hidden: no
      - name: first_order_last_non_direct_click_attrib_revenue
        meta:
          dimension:
            label: "Total Last Non-Direct Click First Order Revenue"
            type: number
            hidden: no
      - name: first_order_last_paid_click_attrib_revenue
        meta:
          dimension:
            label: "Total Last Paid Click First Order Revenue"
            type: number
            hidden: no
      - name: first_order_even_click_attrib_revenue
        meta:
          dimension:
            label: "Total Even Click First Order Revenue"
            type: number
            hidden: no
      - name: repeat_order_first_click_attrib_conversions
        meta:
          dimension:
            label: "Total First Click Repeat Orders"
            type: number
            hidden: no
      - name: repeat_order_first_non_direct_click_attrib_conversions
        meta:
          dimension:
            label: "Total First Non-Direct Click Repeat Orders"
            type: number
            hidden: no
      - name: repeat_order_last_click_attrib_conversions
        meta:
          dimension:
            label: "Total First Last Click Repeat Orders"
            type: number
            hidden: no
      - name: repeat_order_last_non_direct_click_attrib_conversions
        meta:
          dimension:
            label: "Total Last Non-Direct Click Repeat Orders"
            type: number
            hidden: no
      - name: repeat_order_last_paid_click_attrib_conversions
        meta:
          dimension:
            label: "Total Last Paid Click Repeat Orders"
            type: number
            hidden: no
      - name: repeat_order_even_click_attrib_conversions
        meta:
          dimension:
            label: "Total Even Click Repeat Orders"
            type: number
            hidden: no
      - name: repeat_order_time_decay_attrib_conversions
        meta:
          dimension:
            label: "Total Time Decay Repeat Orders"
            type: number
            hidden: no
      - name: repeat_order_first_click_attrib_revenue
        meta:
          dimension:
            label: "Total First Click Repeat Order Revenue"
            type: number
            hidden: no
      - name: repeat_order_first_non_direct_click_attrib_revenue
        meta:
          dimension:
            label: "Total First Non-Direct Repeat Order Revenue"
            type: number
            hidden: no
      - name: repeat_order_first_paid_click_attrib_revenue
        meta:
          dimension:
            label: "Total First Paid Click Repeat Order Revenue"
            type: number
            hidden: no
      - name: repeat_order_last_click_attrib_revenue
        meta:
          dimension:
            label: "Total Last Click Repeat Order Revenue"
            type: number
            hidden: no
      - name: repeat_order_last_non_direct_click_attrib_revenue
        meta:
          dimension:
            label: "Total Last Non-Direct Click Repeat Order Revenue"
            type: number
            hidden: no
      - name: repeat_order_last_paid_click_attrib_revenue
        meta:
          dimension:
            label: "Total Last Paid Click Repeat Order Revenue"
            type: number
            hidden: no
      - name: repeat_order_even_click_attrib_revenue
        meta:
          dimension:
            label: "Total Even Click Repeat Order Revenue"
            type: number
            hidden: no
      - name: repeat_order_time_decay_attrib_revenue
        meta:
          dimension:
            label: "Total Time Decay Repeat Order Revenue"
            type: number
            hidden: no
